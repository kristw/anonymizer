"use strict";!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.anonymizer=b()}(this,function(){function a(a){b(a)?(this.categories=a,this.categoryLookup=a.reduce(function(a,b,c){return a[b]=c,a},{})):(this.categories=[],this.categoryLookup={})}var b=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)},c=function(a){return"object"==typeof a&&null!==a},d=a.prototype;return d.getCategoryCode=function(a){return this.categoryLookup.hasOwnProperty(a)?this.categoryLookup[a]:(this.categories.push(a),this.categoryLookup[a]=this.categories.length,this.categories.length)},d.getCategoryName=function(a){return a>this.categories.length?null:this.categories[a-1]},d.getCategories=function(){return this.categories},d.encode=function(a,d){var e=this;if(b(a)){var f=d.length>0?d[0]:null;return a.map(function(a,b){return e.encode(a,b<d.length?d[b]:f)})}if(c(a)){if(!c(d))throw"Expect schema to be an object but receive: "+JSON.stringify(d);return Object.keys(d).map(function(b){return e.encode(a[b],d[b])})}return"Category"===d||"category"===d?this.getCategoryCode(a):"Number"===d||"number"===d?+a:a},d.decode=function(a,d){var e=this;if(b(d)){var f=d.length>0?d[0]:null;return a.map(function(a,b){return e.decode(a,b<d.length?d[b]:f)})}return c(d)?Object.keys(d).reduce(function(b,c,f){return b[c]=e.decode(a[f],d[c]),b},{}):"Category"===d||"category"===d?this.getCategoryName(a):a},a});